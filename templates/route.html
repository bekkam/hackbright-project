{% extends 'base.html' %}

{% block title %}Route Detail{% endblock %}



{% block content %}

<div class="container-fluid">

    <div class="row">
        <div class="col-xs-12 col-md-12 col-lg-12">
            <div class="header">        
                <h3>Route: {{ route.route_name }}</h3>
            </div>
        </div>
    </div>

    {% include 'helper_templates/map.html' %}

    <div class="row">
        <div class="col-xs-12 col-md-12 col-lg-8">

            <h4>Route Data</h4>

            {% import 'helper_templates/tables.html' as tables %}

            {{ tables.row(header1='Route ID', header2='Date Added', header3='Distance (km)', data1=route.route_id , data2=route.add_date, data3=route.route_distance) }}      

        {% if route.runs %}

            <h4>Run History for {{ route.route_name }}</h4>


            <table class="table table-bordered" >
                <tr>
                    <th>Date of Run</th>
                    <th>Distance (km)</th>
                    <th>Duration</th>
                </tr>

                {% for run in route.runs %}
                <tr>
                  <td>{{ run.run_date }}</td>
                  <td>{{ route.route_distance }}</td>
                  <td>{{ run.duration }}</td>
                </tr>
                {% endfor %}
            </table>

        {% else %}
            <br>
            <h4>You have not run this route yet</h4>
        {% endif %}
        </div>
    </div>


<script src="/static/js/getsavedmap.js"></script>
<script src="/static/js/mapstyles.js"></script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD0V7FNkiwsUwxhsQd8hscYoMsuklxOFhg&signed_in=true&callback=showSavedMap"
async defer></script>
    
{% endblock %}