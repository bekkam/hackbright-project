{% extends 'base.html' %}

{% block title %}User Profile{% endblock %}

{% block content %}

<div class="container-fluid">

  <div class="row">
      <div class="col-xs-12 col-md-12 col-lg-12">
          <div class="header">
              <h2>Profile</h2>
          </div>
      </div>
  </div>

  <div class="row">
      <div class="col-xs-12 col-md-12 col-lg-6">
          <div class="subheader">
              <h3>Distance</h3>
          </div>

          <div class="chart">
              <canvas id="lineChartDistance" ></canvas>
              <div id="lineLegendDistance" class="chart-legend"></div>
          </div>
      </div>
      <div class="col-xs-12 col-md-12 col-lg-6">    
          <div class="subheader">
              <h3>Pace</h3>
          </div>
        
          <div class="chart">
              <canvas id="lineChartPace"></canvas>
              <div id="lineLegendPace" class="chart-legend"></div>
          </div>
      </div>
  </div>


  <div class="row">
      <div class="col-xs-12 col-md-12 col-lg-12">
          <div class="subheader">
              <h3>Your three most recent routes</h3>
          </div>
      </div>
  </div>

  <div class="row">
      <div class="col-xs-12 col-md-12 col-lg-12">
          <table class="table table-striped table-bordered">
              <tr>
              <th>Route ID</th>
              <th>Route Name</th>
              <th>Date Added</th>      
              <th>Distance (km)</th>
              <!-- <th>Favorite</th> -->
              </tr>
          
              {% for route in routes %}
                <tr>
                    <td> ({{ route.route_id }})            
                    <td> <a href="/routes/{{ route.route_id }}">{{ route.route_name }}</td>
                    <td> {{ route.add_date }}            
                    <td> {{ route.route_distance }}
                    <!-- <td> {{ route.favorite }} -->
                </tr>
              {% endfor %}    
          </table>
      </div>
  </div>

  <div class="row">
      <div class="col-xs-12 col-md-12 col-lg-6">
          <div class="subheader">
              <h3>Your three most recent runs</h3>
          </div>
      </div>
  </div>

  <div class="row">
      <div class="col-xs-12 col-md-12 col-lg-12">
          <table class="table table-striped table-bordered" >
              <tr>
              <th>Run ID</th>
              <th>Route Name</th>
              <th>Run Date</th>      
              <th>Distance (km)</th>
              <th>Duration</th>
              </tr>
              {% for run, route in ran_routes %}
                <tr>
                    <td> <a href="/runs/{{ run.run_id }}">({{ run.run_id }}) </td>
                    <td> {{ route.route_name }}
                    <td> {{ run.run_date }}
                    <td> {{ route.route_distance }}
                    <td> {{ run.duration }}
                </tr>
              {% endfor %}
          </table>
      </div>
  </div>

  <script src="/static/js/profilecharts.js"></script>


{% endblock %}
